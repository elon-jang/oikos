# 기부금 영수증 발행 프롬프트

## Claude Code 작업 지시 프롬프트

아래 프롬프트를 복사하여 Claude Code에서 사용하세요.

---

### 전체 발행 프롬프트

```
@README.md 를 참고해서 기부금 영수증을 전체 발행해줘.

사용 파일:
- 템플릿: donation_receipt_template.docx
- 데이터: 2025_income_summary.xlsx
- 스크립트: generate_receipts.py

작업 순서:
1. 데이터 확인 (python generate_receipts.py --list)
2. 전체 발행 (python generate_receipts.py)
3. 샘플 검증 (receipts/기부금영수증_강신애.docx)
4. 총 생성 개수 보고

주의사항:
- 주민등록번호/주소는 빈칸 유지
- 부부 이름(쉼표 구분)은 각각 별도 발행
- 발급번호: 26-001부터 순차 부여
```

---

### 한 사람만 발행 프롬프트

```
"홍길동" 기부금 영수증만 발행해줘.

템플릿: donation_receipt_template.docx
명령어: python generate_receipts.py -n 홍길동
```

---

### 여러 명 발행 프롬프트

```
홍길동, 김철수, 이영희 세 명의 기부금 영수증을 발행해줘.

템플릿: donation_receipt_template.docx
명령어: python generate_receipts.py -n 홍길동,김철수,이영희
```

---

### 대상자 목록 확인 프롬프트

```
기부금 영수증 발행 대상자 목록을 보여줘.

python generate_receipts.py --list
```

---

### 발행 이력 조회 프롬프트

```
기부금 영수증 발행 이력을 보여줘.

python generate_receipts.py --history
```

### 특정인 발행 이력 조회 프롬프트

```
홍길동의 기부금 영수증 발행 이력을 보여줘.

python generate_receipts.py --history -n 홍길동
```

---

### 연도 지정 발행 프롬프트

```
2024년 데이터로 기부금 영수증을 발행해줘.

python generate_receipts.py --year 2024
```

또는

```
다른 데이터 파일로 발행해줘.

python generate_receipts.py --data 2024_income_summary.xlsx
```

---

### 연도 변경 시 프롬프트

```
새 연도(2026년) 기부금 영수증 발행 준비해줘.

사용 파일:
- 템플릿: donation_receipt_template.docx (연도 수정 필요)
- 원본 데이터: 2026_income.xls
- 정리 데이터: 2026_income_summary.xlsx (새로 생성)

작업:
1. 2026_income.xls → 2026_income_summary.xlsx 정리
   - @헌금정리_프롬프트.md 참고
2. 템플릿 연도 수정 (2026년 → 2027년)
   - Table 4: "2026년 1월" → "2027년 1월"
   - 하단 날짜: "2026년 월 일" → "2027년 월 일" (2곳)
3. generate_receipts.py 데이터 파일명 확인
4. 영수증 생성 및 검증
```

---

### 템플릿 수정 프롬프트

```
donation_receipt_template.docx 템플릿의 placeholder 목록을 확인해줘.
현재 사용 중인 변수들이 정상인지 검증해줘.
```

---

## 체크리스트

### 발행 전
- [ ] 원본 데이터 정리 완료
- [ ] 이름 통합 확인 (오타, 구분자)
- [ ] 비개인 항목 제외 확인
- [ ] 총액 검증

### 발행 후
- [ ] 생성 개수 확인
- [ ] 샘플 파일 내용 확인
- [ ] 금액 정확성 확인
- [ ] 발급번호 순서 확인

---

## 연간 일정

| 시기 | 작업 |
|------|------|
| 12월 말 | 연간 헌금 데이터 마감 |
| 1월 초 | 데이터 정리 및 검증 |
| 1월 중순 | 영수증 발행 |
| 1월 말 | 배포 완료 |

---

---

## 템플릿 관련 프롬프트

### 템플릿 placeholder 확인

```
donation_receipt_template.docx 템플릿의 placeholder 목록을 확인해줘.
```

### 템플릿 수정 후 검증

```
템플릿을 수정했어. placeholder가 정상인지 검증하고 테스트 발행해줘.

python3 -c "
from docx import Document
doc = Document('donation_receipt_template.docx')
for table in doc.tables:
    for row in table.rows:
        for cell in row.cells:
            if '{{' in cell.text:
                print(cell.text)
"
python generate_receipts.py -n 강신애
```

### 새 연도 템플릿 업데이트

```
2027년용 템플릿으로 업데이트해줘.

변경 필요 항목:
- Table 4의 "2026년 1월" → "2027년 1월"
- 하단 날짜 "2026년 월 일" → "2027년 월 일" (2곳)
```

---

## 템플릿 Placeholder 참조

| Placeholder | 설명 |
|-------------|------|
| `{{receipt_no}}` | 발급번호 (26-001) |
| `{{name}}` | 기부자 성명 (2곳: 표, 서명란) |
| `{{month_1}}` ~ `{{month_12}}` | 월별 금액 |
| `{{total}}` | 연간 총합 |

---

## 참고 파일

- `README.md` - 전체 사용법, 템플릿 상세 가이드
- `헌금정리_프롬프트.md` - 원본 데이터 정리 방법
- `donation_receipt_template.docx` - 영수증 템플릿
